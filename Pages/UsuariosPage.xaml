<?xml version="1.0" encoding="utf-8"?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Rba.Pages.UsuariosPage"
             Title="Usuários Cadastrados">
    
    <ScrollView>
        <VerticalStackLayout Padding="30"
                             Spacing="15">

            <!-- Aviso visual -->
            <Label Text="Atenção! Excluir um usuário é uma ação irreversível. Clique no usuário que deseja excluir."
                   FontSize="20"
                   HorizontalTextAlignment="Center"
                   HorizontalOptions="Center"
                   TextColor="{StaticResource Primary}" />

            <Button Text="Consultar"
                    Clicked="OnConsultarClicked"
                    Background="{StaticResource PrimaryBrush}"
                    TextColor="{StaticResource White}" />

            <Entry x:Name="ConsultarEntry"
                   Placeholder="Digite o usuário que deseja buscar e clique em consultar"
                   TextChanged="OnConsultarTextChanged"
                   BackgroundColor="White"
                   Margin="0,10,0,0"
                   FontSize="12"
                   TextColor="Black"/>

            <Button Text="Voltar"
                    Clicked="OnVoltarClicked"
                    Background="{StaticResource PrimaryBrush}"
                    TextColor="{StaticResource White}" />                     

            <CollectionView x:Name="UsuariosListView"
                            SelectionMode="Single"
                            SelectionChanged="OnUsuarioSelecionado">
                
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                       
                        <Border BackgroundColor="#2E7D32" 
                                Stroke="LightGray"
                                StrokeThickness="1"                                
                                Margin="5"
                                Padding="10">
                            
                            <VerticalStackLayout Spacing="2">
                                <Label Text="{Binding ID}"
                                       FontAttributes="Bold" TextColor="White"/>
                                <Label Text="{Binding NomeUsuario}" TextColor="White"/>
                                <Label Text="{Binding Email}" TextColor="White"/>
                                <Label Text="{Binding TipoUsuario}" TextColor="White"/>
                            </VerticalStackLayout>
                            
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
                
            </CollectionView>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>